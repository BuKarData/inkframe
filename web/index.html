<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>InkFrame - E-Ink Smart Display</title>
  <meta name="description" content="Transform your space with InkFrame - the elegant E-ink smart display for weather, calendar, photos and more.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600;700&family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #fafafa;
      --bg-secondary: #f0f0f0;
      --surface: #ffffff;
      --text: #1a1a1a;
      --text-secondary: #4a4a4a;
      --text-muted: #8a8a8a;
      --border: #e0e0e0;
      --accent: #1a1a1a;
      --accent-hover: #333333;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    html { scroll-behavior: smooth; }

    body {
      font-family: 'DM Sans', sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
      -webkit-font-smoothing: antialiased;
    }

    .serif { font-family: 'Cormorant Garamond', serif; }

    /* Navigation */
    .nav {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      background: rgba(250, 250, 250, 0.95);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid var(--border);
    }

    .nav-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0.875rem 1rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    @media (min-width: 768px) {
      .nav-container { padding: 1rem 2rem; }
    }

    .nav-logo {
      font-family: 'Cormorant Garamond', serif;
      font-size: 1.5rem;
      font-weight: 600;
      color: var(--text);
      text-decoration: none;
    }

    @media (min-width: 768px) {
      .nav-logo { font-size: 1.75rem; }
    }

    .nav-links {
      display: none;
      align-items: center;
      gap: 2rem;
    }

    @media (min-width: 768px) {
      .nav-links { display: flex; }
    }

    .nav-link {
      color: var(--text-secondary);
      text-decoration: none;
      font-size: 0.9rem;
      font-weight: 500;
      transition: color 0.2s;
    }

    .nav-link:hover { color: var(--text); }

    .nav-auth {
      display: flex;
      gap: 0.5rem;
    }

    @media (min-width: 768px) {
      .nav-auth { gap: 0.75rem; }
    }

    .btn {
      padding: 0.5rem 1rem;
      border-radius: 6px;
      font-size: 0.8rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s;
      border: none;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
    }

    @media (min-width: 768px) {
      .btn { padding: 0.625rem 1.25rem; font-size: 0.875rem; }
    }

    .btn-ghost {
      background: transparent;
      color: var(--text-secondary);
    }

    .btn-ghost:hover { background: var(--bg-secondary); color: var(--text); }

    .btn-primary {
      background: var(--accent);
      color: white;
    }

    .btn-primary:hover { background: var(--accent-hover); }

    .btn-outline {
      background: transparent;
      border: 1px solid var(--border);
      color: var(--text);
    }

    .btn-outline:hover { background: var(--bg-secondary); border-color: var(--text-muted); }

    .btn-lg {
      padding: 0.875rem 1.75rem;
      font-size: 1rem;
    }

    /* Hero */
    .hero {
      min-height: 100vh;
      display: flex;
      align-items: center;
      padding: 6rem 1rem 3rem;
    }

    @media (min-width: 768px) {
      .hero { padding: 8rem 2rem 4rem; }
    }

    .hero-container {
      max-width: 1200px;
      margin: 0 auto;
      display: grid;
      gap: 2rem;
      align-items: center;
    }

    @media (min-width: 768px) {
      .hero-container {
        grid-template-columns: 1fr 1fr;
        gap: 4rem;
      }
    }

    .hero-content {
      text-align: center;
    }

    @media (min-width: 768px) {
      .hero-content { text-align: left; }
    }

    .hero-title {
      font-family: 'Cormorant Garamond', serif;
      font-size: 2.5rem;
      font-weight: 600;
      line-height: 1.1;
      margin-bottom: 1.5rem;
      letter-spacing: -0.02em;
    }

    @media (min-width: 768px) {
      .hero-title { font-size: 3.5rem; }
    }

    @media (min-width: 1024px) {
      .hero-title { font-size: 4rem; }
    }

    .hero-subtitle {
      font-size: 1rem;
      color: var(--text-secondary);
      margin-bottom: 2rem;
      max-width: 480px;
      margin-left: auto;
      margin-right: auto;
    }

    @media (min-width: 768px) {
      .hero-subtitle { font-size: 1.125rem; margin-left: 0; margin-right: 0; }
    }

    .hero-cta {
      display: flex;
      gap: 1rem;
      justify-content: center;
      flex-wrap: wrap;
    }

    @media (min-width: 768px) {
      .hero-cta { justify-content: flex-start; }
    }

    .hero-image {
      display: flex;
      justify-content: center;
      order: -1;
    }

    @media (min-width: 768px) {
      .hero-image { order: 0; }
    }

    .device-mockup {
      width: 280px;
      height: 280px;
      background: var(--surface);
      border: 3px solid var(--text);
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      box-shadow: 0 20px 60px rgba(0,0,0,0.1);
    }

    @media (min-width: 768px) {
      .device-mockup { width: 340px; height: 340px; }
    }

    .device-screen {
      width: 200px;
      height: 200px;
      background: white;
      border: 2px solid var(--text);
      display: flex;
      flex-direction: column;
      padding: 0;
      overflow: hidden;
    }

    .device-header {
      background: var(--text);
      color: white;
      padding: 8px 12px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .device-date {
      font-family: 'Cormorant Garamond', serif;
      font-size: 1.5rem;
      font-weight: 700;
    }

    .device-info {
      text-align: right;
      font-size: 0.6rem;
      line-height: 1.3;
    }

    .device-content {
      flex: 1;
      padding: 8px 12px;
      font-size: 0.65rem;
    }

    .device-section {
      margin-bottom: 8px;
    }

    .device-section-title {
      font-weight: 600;
      font-size: 0.6rem;
      margin-bottom: 4px;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      border-bottom: 1px solid var(--border);
      padding-bottom: 2px;
    }

    .device-item {
      display: flex;
      align-items: center;
      gap: 4px;
      margin-bottom: 2px;
    }

    .device-checkbox {
      width: 8px;
      height: 8px;
      border: 1px solid var(--text);
    }

    /* Sections */
    .section {
      padding: 4rem 1rem;
    }

    @media (min-width: 768px) {
      .section { padding: 6rem 2rem; }
    }

    .section-alt { background: var(--surface); }

    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    .section-header {
      text-align: center;
      margin-bottom: 3rem;
    }

    @media (min-width: 768px) {
      .section-header { margin-bottom: 4rem; }
    }

    .section-title {
      font-family: 'Cormorant Garamond', serif;
      font-size: 2rem;
      font-weight: 600;
      margin-bottom: 1rem;
    }

    @media (min-width: 768px) {
      .section-title { font-size: 2.5rem; }
    }

    .section-subtitle {
      font-size: 1rem;
      color: var(--text-secondary);
      max-width: 600px;
      margin: 0 auto;
    }

    /* Features Grid */
    .features-grid {
      display: grid;
      gap: 1.5rem;
    }

    @media (min-width: 640px) {
      .features-grid { grid-template-columns: repeat(2, 1fr); }
    }

    @media (min-width: 1024px) {
      .features-grid { grid-template-columns: repeat(3, 1fr); gap: 2rem; }
    }

    .feature-card {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 1.5rem;
      transition: all 0.2s;
    }

    @media (min-width: 768px) {
      .feature-card { padding: 2rem; }
    }

    .feature-card:hover {
      border-color: var(--text-muted);
      transform: translateY(-2px);
    }

    .feature-icon {
      width: 48px;
      height: 48px;
      background: var(--bg);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 1rem;
    }

    .feature-icon svg {
      width: 24px;
      height: 24px;
      stroke: var(--text);
    }

    .feature-title {
      font-size: 1.1rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
    }

    .feature-desc {
      font-size: 0.9rem;
      color: var(--text-secondary);
    }

    /* Steps */
    .steps-grid {
      display: grid;
      gap: 2rem;
    }

    @media (min-width: 768px) {
      .steps-grid { grid-template-columns: repeat(3, 1fr); gap: 3rem; }
    }

    .step {
      text-align: center;
    }

    .step-number {
      width: 48px;
      height: 48px;
      background: var(--text);
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: 'Cormorant Garamond', serif;
      font-size: 1.5rem;
      font-weight: 600;
      margin: 0 auto 1rem;
    }

    .step-title {
      font-size: 1.1rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
    }

    .step-desc {
      font-size: 0.9rem;
      color: var(--text-secondary);
    }

    /* CTA */
    .cta {
      text-align: center;
      padding: 4rem 1rem;
      background: var(--text);
      color: white;
    }

    @media (min-width: 768px) {
      .cta { padding: 6rem 2rem; }
    }

    .cta-title {
      font-family: 'Cormorant Garamond', serif;
      font-size: 2rem;
      font-weight: 600;
      margin-bottom: 1rem;
    }

    @media (min-width: 768px) {
      .cta-title { font-size: 2.5rem; }
    }

    .cta-subtitle {
      font-size: 1rem;
      opacity: 0.8;
      margin-bottom: 2rem;
      max-width: 500px;
      margin-left: auto;
      margin-right: auto;
    }

    .cta .btn-primary {
      background: white;
      color: var(--text);
    }

    .cta .btn-primary:hover {
      background: var(--bg-secondary);
    }

    /* Footer */
    .footer {
      padding: 3rem 1rem;
      border-top: 1px solid var(--border);
      text-align: center;
    }

    @media (min-width: 768px) {
      .footer { padding: 4rem 2rem; }
    }

    .footer-logo {
      font-family: 'Cormorant Garamond', serif;
      font-size: 1.5rem;
      font-weight: 600;
      margin-bottom: 1rem;
    }

    .footer-text {
      font-size: 0.85rem;
      color: var(--text-muted);
    }

    /* Modal */
    .modal-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.5);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 2000;
      padding: 1rem;
    }

    .modal-overlay.active { display: flex; }

    .modal {
      background: var(--surface);
      border-radius: 16px;
      width: 100%;
      max-width: 400px;
      max-height: 90vh;
      overflow-y: auto;
    }

    .modal-header {
      padding: 1.25rem 1.5rem;
      border-bottom: 1px solid var(--border);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .modal-title {
      font-family: 'Cormorant Garamond', serif;
      font-size: 1.5rem;
      font-weight: 600;
    }

    .modal-close {
      width: 36px;
      height: 36px;
      background: var(--bg);
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--text-muted);
      transition: all 0.2s;
    }

    .modal-close:hover { background: var(--border); color: var(--text); }

    .modal-body { padding: 1.5rem; }

    .form-group { margin-bottom: 1rem; }

    .form-label {
      display: block;
      font-size: 0.85rem;
      font-weight: 500;
      margin-bottom: 0.5rem;
      color: var(--text-secondary);
    }

    .form-input {
      width: 100%;
      padding: 0.75rem 1rem;
      border: 1px solid var(--border);
      border-radius: 8px;
      font-size: 1rem;
      font-family: inherit;
      background: var(--bg);
      transition: all 0.2s;
    }

    .form-input:focus {
      outline: none;
      border-color: var(--text);
      background: var(--surface);
    }

    .form-error {
      color: #c00;
      font-size: 0.8rem;
      margin-top: 0.5rem;
      display: none;
    }

    .form-error.visible { display: block; }

    .modal-footer {
      padding: 0 1.5rem 1.5rem;
    }

    .modal-footer .btn { width: 100%; }

    .modal-switch {
      text-align: center;
      margin-top: 1rem;
      font-size: 0.9rem;
      color: var(--text-secondary);
    }

    .modal-switch a {
      color: var(--text);
      font-weight: 500;
      text-decoration: none;
    }

    .modal-switch a:hover { text-decoration: underline; }

    /* Language Selector */
    .lang-selector {
      position: fixed;
      bottom: 1rem;
      right: 1rem;
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 0.5rem;
      display: flex;
      gap: 0.25rem;
      z-index: 100;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .lang-btn {
      padding: 0.375rem 0.5rem;
      background: transparent;
      border: none;
      color: var(--text-muted);
      font-size: 0.7rem;
      font-weight: 600;
      cursor: pointer;
      border-radius: 4px;
      transition: all 0.2s;
    }

    .lang-btn:hover { background: var(--bg-secondary); color: var(--text); }
    .lang-btn.active { background: var(--text); color: white; }

    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .animate-fade-in {
      animation: fadeIn 0.6s ease-out forwards;
    }

    /* Hidden */
    .hidden { display: none !important; }
  </style>
</head>
<body>
  <!-- Navigation -->
  <nav class="nav">
    <div class="nav-container">
      <a href="/" class="nav-logo">InkFrame</a>
      <div class="nav-links">
        <a href="#features" class="nav-link" data-i18n="nav.features">Features</a>
        <a href="#how-it-works" class="nav-link" data-i18n="nav.howItWorks">How it works</a>
      </div>
      <div class="nav-auth">
        <button class="btn btn-ghost" onclick="openModal('login')" data-i18n="nav.login">Log in</button>
        <button class="btn btn-primary" onclick="openModal('register')" data-i18n="nav.register">Sign up</button>
      </div>
    </div>
  </nav>

  <!-- Hero -->
  <section class="hero">
    <div class="hero-container">
      <div class="hero-content animate-fade-in">
        <h1 class="hero-title" data-i18n="hero.title">Elegant E-ink Display for Your Space</h1>
        <p class="hero-subtitle" data-i18n="hero.subtitle">Weather, calendar, tasks, and your photos - all on a beautiful, energy-efficient display that looks like paper.</p>
        <div class="hero-cta">
          <button class="btn btn-primary btn-lg" onclick="openModal('register')" data-i18n="hero.cta">Get Started</button>
          <a href="#features" class="btn btn-outline btn-lg" data-i18n="hero.learn">Learn More</a>
        </div>
      </div>
      <div class="hero-image animate-fade-in" style="animation-delay: 0.2s">
        <div class="device-mockup">
          <div class="device-screen">
            <div class="device-header">
              <span class="device-date">03</span>
              <div class="device-info">
                <div>PON</div>
                <div>LUT 2026</div>
              </div>
            </div>
            <div class="device-content">
              <div class="device-section">
                <div class="device-section-title">WYDARZENIA</div>
                <div class="device-item">09:00 Spotkanie zespolu</div>
                <div class="device-item">14:30 Prezentacja projektu</div>
              </div>
              <div class="device-section">
                <div class="device-section-title">ZADANIA</div>
                <div class="device-item"><div class="device-checkbox"></div> Wyslac raport</div>
                <div class="device-item"><div class="device-checkbox"></div> Zamowic ksiazki</div>
                <div class="device-item"><div class="device-checkbox"></div> Zadzwonic do klienta</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Features -->
  <section id="features" class="section section-alt">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title" data-i18n="features.title">Everything You Need</h2>
        <p class="section-subtitle" data-i18n="features.subtitle">A smart display that keeps you informed without distractions.</p>
      </div>
      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/>
              <polyline points="14 2 14 8 20 8"/>
            </svg>
          </div>
          <h3 class="feature-title" data-i18n="features.photos.title">Photo Gallery</h3>
          <p class="feature-desc" data-i18n="features.photos.desc">Display your favorite photos with professional dithering algorithms optimized for E-ink.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10"/>
              <path d="M12 6v6l4 2"/>
            </svg>
          </div>
          <h3 class="feature-title" data-i18n="features.weather.title">Live Weather</h3>
          <p class="feature-desc" data-i18n="features.weather.desc">Current temperature and conditions updated automatically for your location.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="3" y="4" width="18" height="18" rx="2"/>
              <line x1="16" y1="2" x2="16" y2="6"/>
              <line x1="8" y1="2" x2="8" y2="6"/>
              <line x1="3" y1="10" x2="21" y2="10"/>
            </svg>
          </div>
          <h3 class="feature-title" data-i18n="features.calendar.title">Google Calendar</h3>
          <p class="feature-desc" data-i18n="features.calendar.desc">See your upcoming events at a glance with seamless Google Calendar integration.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M9 11l3 3L22 4"/>
              <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/>
            </svg>
          </div>
          <h3 class="feature-title" data-i18n="features.todos.title">To-Do Lists</h3>
          <p class="feature-desc" data-i18n="features.todos.desc">Keep track of your tasks with a clean, distraction-free checklist.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="2" y="3" width="20" height="14" rx="2"/>
              <line x1="8" y1="21" x2="16" y2="21"/>
              <line x1="12" y1="17" x2="12" y2="21"/>
            </svg>
          </div>
          <h3 class="feature-title" data-i18n="features.eink.title">E-ink Display</h3>
          <p class="feature-desc" data-i18n="features.eink.desc">Paper-like display that's easy on the eyes and uses minimal power.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 2L2 7l10 5 10-5-10-5z"/>
              <path d="M2 17l10 5 10-5"/>
              <path d="M2 12l10 5 10-5"/>
            </svg>
          </div>
          <h3 class="feature-title" data-i18n="features.carousel.title">Photo Carousel</h3>
          <p class="feature-desc" data-i18n="features.carousel.desc">Automatically rotate through your photos at custom intervals.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- How it works -->
  <section id="how-it-works" class="section">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title" data-i18n="steps.title">How It Works</h2>
        <p class="section-subtitle" data-i18n="steps.subtitle">Get started in minutes with our simple setup process.</p>
      </div>
      <div class="steps-grid">
        <div class="step">
          <div class="step-number">1</div>
          <h3 class="step-title" data-i18n="steps.step1.title">Connect Your Device</h3>
          <p class="step-desc" data-i18n="steps.step1.desc">Power on your InkFrame and connect it to WiFi using the setup wizard.</p>
        </div>
        <div class="step">
          <div class="step-number">2</div>
          <h3 class="step-title" data-i18n="steps.step2.title">Create Account</h3>
          <p class="step-desc" data-i18n="steps.step2.desc">Sign up and link your device using the ID shown on the display.</p>
        </div>
        <div class="step">
          <div class="step-number">3</div>
          <h3 class="step-title" data-i18n="steps.step3.title">Customize</h3>
          <p class="step-desc" data-i18n="steps.step3.desc">Upload photos, connect your calendar, and personalize your dashboard.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA -->
  <section class="cta">
    <div class="container">
      <h2 class="cta-title" data-i18n="cta.title">Ready to Get Started?</h2>
      <p class="cta-subtitle" data-i18n="cta.subtitle">Create your free account and start customizing your InkFrame today.</p>
      <button class="btn btn-primary btn-lg" onclick="openModal('register')" data-i18n="cta.button">Create Account</button>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-logo">InkFrame</div>
      <p class="footer-text">E-ink Smart Display System</p>
    </div>
  </footer>

  <!-- Language Selector -->
  <div class="lang-selector">
    <button class="lang-btn" onclick="setLanguage('en')">EN</button>
    <button class="lang-btn active" onclick="setLanguage('pl')">PL</button>
    <button class="lang-btn" onclick="setLanguage('de')">DE</button>
    <button class="lang-btn" onclick="setLanguage('fr')">FR</button>
    <button class="lang-btn" onclick="setLanguage('es')">ES</button>
  </div>

  <!-- Auth Modal -->
  <div class="modal-overlay" id="authModal">
    <div class="modal">
      <div class="modal-header">
        <h3 class="modal-title" id="modalTitle">Log in</h3>
        <button class="modal-close" onclick="closeModal()">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/>
          </svg>
        </button>
      </div>
      <div class="modal-body">
        <form id="authForm" onsubmit="handleAuth(event)">
          <div class="form-group" id="nameGroup" style="display: none">
            <label class="form-label" data-i18n="auth.name">Name</label>
            <input type="text" class="form-input" id="nameInput" placeholder="John">
          </div>
          <div class="form-group">
            <label class="form-label" data-i18n="auth.email">Email</label>
            <input type="email" class="form-input" id="emailInput" placeholder="you@example.com" required>
          </div>
          <div class="form-group">
            <label class="form-label" data-i18n="auth.password">Password</label>
            <input type="password" class="form-input" id="passwordInput" placeholder="Min. 6 characters" required minlength="6">
          </div>
          <div class="form-error" id="authError"></div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="submit" form="authForm" class="btn btn-primary btn-lg" id="authSubmit">Log in</button>
        <p class="modal-switch" id="authSwitch">
          <span data-i18n="auth.noAccount">Don't have an account?</span> <a href="#" onclick="switchAuthMode(event)" data-i18n="auth.signUp">Sign up</a>
        </p>
      </div>
    </div>
  </div>

  <script>
    const API_BASE = window.location.origin + '/api';
    let authMode = 'login';

    // i18n
    const translations = {
      en: {
        nav: { features: 'Features', howItWorks: 'How it works', login: 'Log in', register: 'Sign up' },
        hero: { title: 'Elegant E-ink Display for Your Space', subtitle: 'Weather, calendar, tasks, and your photos - all on a beautiful, energy-efficient display that looks like paper.', cta: 'Get Started', learn: 'Learn More' },
        features: { title: 'Everything You Need', subtitle: 'A smart display that keeps you informed without distractions.',
          photos: { title: 'Photo Gallery', desc: 'Display your favorite photos with professional dithering algorithms optimized for E-ink.' },
          weather: { title: 'Live Weather', desc: 'Current temperature and conditions updated automatically for your location.' },
          calendar: { title: 'Google Calendar', desc: 'See your upcoming events at a glance with seamless Google Calendar integration.' },
          todos: { title: 'To-Do Lists', desc: 'Keep track of your tasks with a clean, distraction-free checklist.' },
          eink: { title: 'E-ink Display', desc: "Paper-like display that's easy on the eyes and uses minimal power." },
          carousel: { title: 'Photo Carousel', desc: 'Automatically rotate through your photos at custom intervals.' }
        },
        steps: { title: 'How It Works', subtitle: 'Get started in minutes with our simple setup process.',
          step1: { title: 'Connect Your Device', desc: 'Power on your InkFrame and connect it to WiFi using the setup wizard.' },
          step2: { title: 'Create Account', desc: 'Sign up and link your device using the ID shown on the display.' },
          step3: { title: 'Customize', desc: 'Upload photos, connect your calendar, and personalize your dashboard.' }
        },
        cta: { title: 'Ready to Get Started?', subtitle: 'Create your free account and start customizing your InkFrame today.', button: 'Create Account' },
        auth: { name: 'Name', email: 'Email', password: 'Password', login: 'Log in', register: 'Sign up', noAccount: "Don't have an account?", hasAccount: 'Already have an account?', signUp: 'Sign up', signIn: 'Log in' }
      },
      pl: {
        nav: { features: 'Funkcje', howItWorks: 'Jak to dziala', login: 'Zaloguj', register: 'Rejestracja' },
        hero: { title: 'Elegancki wyswietlacz E-ink dla Twojej przestrzeni', subtitle: 'Pogoda, kalendarz, zadania i Twoje zdjecia - wszystko na pieknym, energooszczednym wyswietlaczu wyglajacym jak papier.', cta: 'Rozpocznij', learn: 'Dowiedz sie wiecej' },
        features: { title: 'Wszystko czego potrzebujesz', subtitle: 'Inteligentny wyswietlacz, ktory informuje bez rozpraszania.',
          photos: { title: 'Galeria zdjec', desc: 'Wyswietlaj ulubione zdjecia z profesjonalnymi algorytmami ditheringu zoptymalizowanymi dla E-ink.' },
          weather: { title: 'Pogoda na zywo', desc: 'Aktualna temperatura i warunki pogodowe aktualizowane automatycznie dla Twojej lokalizacji.' },
          calendar: { title: 'Kalendarz Google', desc: 'Zobacz nadchodzace wydarzenia dzieki integracji z Kalendarzem Google.' },
          todos: { title: 'Listy zadan', desc: 'Sledz swoje zadania dzieki przejrzystej liscie kontrolnej.' },
          eink: { title: 'Wyswietlacz E-ink', desc: 'Wyswietlacz przypominajacy papier, przyjazny dla oczu i zuzywa minimalna ilosc energii.' },
          carousel: { title: 'Karuzela zdjec', desc: 'Automatycznie przewijaj zdjecia w ustawionych odstepach czasu.' }
        },
        steps: { title: 'Jak to dziala', subtitle: 'Zacznij w kilka minut dzieki prostemu procesowi konfiguracji.',
          step1: { title: 'Polacz urzadzenie', desc: 'Wlacz InkFrame i polacz z WiFi za pomoca kreatora konfiguracji.' },
          step2: { title: 'Utworz konto', desc: 'Zarejestruj sie i polacz urzadzenie uzywajac ID wyswietlonego na ekranie.' },
          step3: { title: 'Dostosuj', desc: 'Dodaj zdjecia, polacz kalendarz i spersonalizuj dashboard.' }
        },
        cta: { title: 'Gotowy do rozpoczecia?', subtitle: 'Utworz darmowe konto i zacznij dostosowywac swoj InkFrame juz dzis.', button: 'Utworz konto' },
        auth: { name: 'Imie', email: 'Email', password: 'Haslo', login: 'Zaloguj', register: 'Zarejestruj', noAccount: 'Nie masz konta?', hasAccount: 'Masz juz konto?', signUp: 'Zarejestruj sie', signIn: 'Zaloguj sie' }
      },
      de: {
        nav: { features: 'Funktionen', howItWorks: 'So funktioniert es', login: 'Anmelden', register: 'Registrieren' },
        hero: { title: 'Elegantes E-Ink Display fur Ihren Raum', subtitle: 'Wetter, Kalender, Aufgaben und Ihre Fotos - alles auf einem schonen, energieeffizienten Display, das wie Papier aussieht.', cta: 'Loslegen', learn: 'Mehr erfahren' },
        features: { title: 'Alles was Sie brauchen', subtitle: 'Ein intelligentes Display, das Sie informiert ohne abzulenken.',
          photos: { title: 'Fotogalerie', desc: 'Zeigen Sie Ihre Lieblingsfotos mit professionellen Dithering-Algorithmen.' },
          weather: { title: 'Live-Wetter', desc: 'Aktuelle Temperatur und Wetterbedingungen automatisch aktualisiert.' },
          calendar: { title: 'Google Kalender', desc: 'Sehen Sie kommende Termine mit Google Kalender Integration.' },
          todos: { title: 'Aufgabenlisten', desc: 'Behalten Sie Ihre Aufgaben im Uberblick.' },
          eink: { title: 'E-Ink Display', desc: 'Papierahnliches Display, augenfreundlich und energiesparend.' },
          carousel: { title: 'Foto-Karussell', desc: 'Automatisch durch Ihre Fotos wechseln.' }
        },
        steps: { title: 'So funktioniert es', subtitle: 'In wenigen Minuten startklar.',
          step1: { title: 'Gerat verbinden', desc: 'InkFrame einschalten und mit WLAN verbinden.' },
          step2: { title: 'Konto erstellen', desc: 'Registrieren und Gerat mit der angezeigten ID verbinden.' },
          step3: { title: 'Anpassen', desc: 'Fotos hochladen, Kalender verbinden und personalisieren.' }
        },
        cta: { title: 'Bereit loszulegen?', subtitle: 'Erstellen Sie Ihr kostenloses Konto und personalisieren Sie Ihr InkFrame.', button: 'Konto erstellen' },
        auth: { name: 'Name', email: 'E-Mail', password: 'Passwort', login: 'Anmelden', register: 'Registrieren', noAccount: 'Kein Konto?', hasAccount: 'Bereits registriert?', signUp: 'Registrieren', signIn: 'Anmelden' }
      },
      fr: {
        nav: { features: 'Fonctionnalites', howItWorks: 'Comment ca marche', login: 'Connexion', register: 'Inscription' },
        hero: { title: 'Ecran E-ink elegant pour votre espace', subtitle: 'Meteo, calendrier, taches et vos photos - le tout sur un ecran elegant et economique qui ressemble a du papier.', cta: 'Commencer', learn: 'En savoir plus' },
        features: { title: 'Tout ce dont vous avez besoin', subtitle: 'Un ecran intelligent qui vous informe sans distractions.',
          photos: { title: 'Galerie photos', desc: 'Affichez vos photos preferees avec des algorithmes de tramage professionnels.' },
          weather: { title: 'Meteo en direct', desc: 'Temperature et conditions actuelles mises a jour automatiquement.' },
          calendar: { title: 'Google Agenda', desc: 'Voyez vos evenements a venir avec integration Google Agenda.' },
          todos: { title: 'Listes de taches', desc: 'Suivez vos taches avec une liste claire.' },
          eink: { title: 'Ecran E-ink', desc: 'Ecran type papier, facile pour les yeux et econome en energie.' },
          carousel: { title: 'Carrousel photos', desc: 'Faites defiler automatiquement vos photos.' }
        },
        steps: { title: 'Comment ca marche', subtitle: 'Commencez en quelques minutes.',
          step1: { title: 'Connectez votre appareil', desc: 'Allumez InkFrame et connectez-le au WiFi.' },
          step2: { title: 'Creez un compte', desc: 'Inscrivez-vous et liez votre appareil avec ID affiche.' },
          step3: { title: 'Personnalisez', desc: 'Ajoutez des photos, connectez votre calendrier et personnalisez.' }
        },
        cta: { title: 'Pret a commencer?', subtitle: 'Creez votre compte gratuit et personnalisez votre InkFrame.', button: 'Creer un compte' },
        auth: { name: 'Nom', email: 'Email', password: 'Mot de passe', login: 'Connexion', register: 'Inscription', noAccount: 'Pas de compte?', hasAccount: 'Deja inscrit?', signUp: 'Inscription', signIn: 'Connexion' }
      },
      es: {
        nav: { features: 'Caracteristicas', howItWorks: 'Como funciona', login: 'Iniciar sesion', register: 'Registrarse' },
        hero: { title: 'Elegante pantalla E-ink para tu espacio', subtitle: 'Clima, calendario, tareas y tus fotos - todo en una hermosa pantalla eficiente que parece papel.', cta: 'Comenzar', learn: 'Saber mas' },
        features: { title: 'Todo lo que necesitas', subtitle: 'Una pantalla inteligente que te informa sin distracciones.',
          photos: { title: 'Galeria de fotos', desc: 'Muestra tus fotos favoritas con algoritmos profesionales de difuminado.' },
          weather: { title: 'Clima en vivo', desc: 'Temperatura y condiciones actuales actualizadas automaticamente.' },
          calendar: { title: 'Google Calendar', desc: 'Ve tus proximos eventos con integracion de Google Calendar.' },
          todos: { title: 'Listas de tareas', desc: 'Sigue tus tareas con una lista limpia.' },
          eink: { title: 'Pantalla E-ink', desc: 'Pantalla tipo papel, facil para los ojos y de bajo consumo.' },
          carousel: { title: 'Carrusel de fotos', desc: 'Rota automaticamente por tus fotos.' }
        },
        steps: { title: 'Como funciona', subtitle: 'Comienza en minutos.',
          step1: { title: 'Conecta tu dispositivo', desc: 'Enciende InkFrame y conectalo a WiFi.' },
          step2: { title: 'Crea una cuenta', desc: 'Registrate y vincula tu dispositivo con el ID mostrado.' },
          step3: { title: 'Personaliza', desc: 'Sube fotos, conecta tu calendario y personaliza.' }
        },
        cta: { title: 'Listo para comenzar?', subtitle: 'Crea tu cuenta gratis y personaliza tu InkFrame hoy.', button: 'Crear cuenta' },
        auth: { name: 'Nombre', email: 'Email', password: 'Contrasena', login: 'Iniciar sesion', register: 'Registrarse', noAccount: 'No tienes cuenta?', hasAccount: 'Ya tienes cuenta?', signUp: 'Registrarse', signIn: 'Iniciar sesion' }
      }
    };

    let currentLang = localStorage.getItem('inkframe_lang') || 'pl';

    function setLanguage(lang) {
      currentLang = lang;
      localStorage.setItem('inkframe_lang', lang);
      document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.toggle('active', btn.textContent === lang.toUpperCase());
      });
      applyTranslations();
    }

    function t(key) {
      const keys = key.split('.');
      let value = translations[currentLang];
      for (const k of keys) {
        value = value?.[k];
      }
      return value || key;
    }

    function applyTranslations() {
      document.querySelectorAll('[data-i18n]').forEach(el => {
        const text = t(el.getAttribute('data-i18n'));
        if (text && text !== el.getAttribute('data-i18n')) el.textContent = text;
      });
    }

    // Modal
    function openModal(mode) {
      authMode = mode;
      document.getElementById('authModal').classList.add('active');
      document.getElementById('nameGroup').style.display = mode === 'register' ? 'block' : 'none';
      document.getElementById('modalTitle').textContent = mode === 'register' ? t('auth.register') : t('auth.login');
      document.getElementById('authSubmit').textContent = mode === 'register' ? t('auth.register') : t('auth.login');
      document.getElementById('authSwitch').innerHTML = mode === 'register'
        ? `<span>${t('auth.hasAccount')}</span> <a href="#" onclick="switchAuthMode(event)">${t('auth.signIn')}</a>`
        : `<span>${t('auth.noAccount')}</span> <a href="#" onclick="switchAuthMode(event)">${t('auth.signUp')}</a>`;
      document.getElementById('authError').classList.remove('visible');
    }

    function closeModal() {
      document.getElementById('authModal').classList.remove('active');
    }

    function switchAuthMode(e) {
      e.preventDefault();
      openModal(authMode === 'login' ? 'register' : 'login');
    }

    async function handleAuth(e) {
      e.preventDefault();
      const email = document.getElementById('emailInput').value;
      const password = document.getElementById('passwordInput').value;
      const name = document.getElementById('nameInput').value;

      const endpoint = authMode === 'register' ? '/auth/register' : '/auth/login';
      const body = authMode === 'register' ? { email, password, name } : { email, password };

      try {
        const res = await fetch(API_BASE + endpoint, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(body)
        });

        const data = await res.json();

        if (res.ok) {
          localStorage.setItem('inkframe_token', data.token);
          localStorage.setItem('inkframe_user', JSON.stringify(data.user));
          window.location.href = '/app';
        } else {
          document.getElementById('authError').textContent = data.error || 'An error occurred';
          document.getElementById('authError').classList.add('visible');
        }
      } catch (err) {
        document.getElementById('authError').textContent = 'Connection error';
        document.getElementById('authError').classList.add('visible');
      }
    }

    // Check if logged in
    if (localStorage.getItem('inkframe_token')) {
      // Already logged in, redirect to app
      const nav = document.querySelector('.nav-auth');
      nav.innerHTML = '<a href="/app" class="btn btn-primary">Open App</a>';
    }

    // Close modal on escape
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') closeModal();
    });

    // Close modal on backdrop click
    document.getElementById('authModal').addEventListener('click', (e) => {
      if (e.target.id === 'authModal') closeModal();
    });

    // Init language
    setLanguage(currentLang);
  </script>
</body>
</html>
